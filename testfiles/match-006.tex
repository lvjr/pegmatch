\documentclass{article}
\input{regression-test}
\SetSpegTracing{+match}
\begin{document}

\START

\BEGINTEST{simple capture}
\SetSpeg\lTmpaSpeg{\SpegCp * \SpegR{az} ^ {1} * \SpegCp * \SpegR{09} ^ {1} * \SpegCp}
\IfSpegExtractTF\lTmpaSpeg{12ab}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\IfSpegExtractTF\lTmpaSpeg{ab12}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\IfSpegExtractTF\lTmpaSpeg{abcd12345}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\ENDTEST

\BEGINTEST{position capture}
\SetSpeg\lTmpaSpeg{\SpegC{\SpegR{az}^{1}} * \SpegC{\SpegR{09}^{1}}}
\IfSpegExtractTF\lTmpaSpeg{12ab}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\IfSpegExtractTF\lTmpaSpeg{ab12}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\IfSpegExtractTF\lTmpaSpeg{abcd12345}\lSpegTmpaSeq{%
  \MapSpegSeqInline\lSpegTmpaSeq{\typeout{[#1]}}%
}{Failed}
\ENDTEST

\end{document}
